"use strict";
//Auth controller
//login and register
module.exports={
    login: function *(){
        yield this.render('site/login')
    },
    logout: function *(){
        <% if(program.session){%>
     	this.flash.success='See you soon!'
     	<% } %>
     	this.redirect('/')
    },
    doLogin: function *(){
     	this.body={success: true}
    },
    register: function *(){
     	yield this.render('site/login')
    },
    doRegister: function *(){
        var UserModel = this.models.user;
        yield UserModel.create(attributes).exec(next);
     	this.body={success: true}
    },
    authSuccess: function(){
        this.redirect('/')
    }
}